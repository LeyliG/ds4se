▁<%@ tag lib ▁prefix =" itrust " ▁uri ="/ W EB - INF / tags . tld "%> ▁<%@ page ▁error Page ="/ auth / exception Handler . jsp "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . action . LabProcHCPAction "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . LabProcedureBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . exception . FormValidat ionException "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . beans . PatientBean "%> ▁<%@ page ▁import =" edu . nc su . cs c . itrust . dao . mysql . PatientDAO "%> ▁<%@ include ▁file ="/ global . jsp " ▁%> ▁<% ▁pageTitle ▁= ▁" iTrust ▁- ▁Update ▁Lab ▁Procedure "; ▁%> ▁<%@ include ▁file ="/ header . jsp " ▁%> ▁<% ▁String ▁headerMessage ▁= ▁""; ▁ LabProcedureBean ▁lbean ▁= ▁null ; ▁long ▁requestID ▁= ▁0 L ; ▁String ▁ lpid ▁= ▁request . getParameter (" ID "); ▁if ▁( lpid ▁ != ▁null ▁&& ▁! lpid . equals ("")) ▁{ ▁try ▁{ ▁requestID ▁= ▁Long . parse Long ( lpid ); ▁lbean ▁= ▁prodDAO . get LabProcedureDAO (). getLabProcedure ( requestID ); ▁} ▁catch ▁( Exception ▁e ) ▁{ ▁e . print Stack T race (); ▁} ▁} ▁ LabProcHCPAction ▁action 2 ▁= ▁new ▁ LabProcHCPAction ( prodDAO , ▁loggedInMID . longValue ()); ▁boolean ▁ formIsFilled ▁= ▁request . getParameter (" formIsFilled ") ▁ != ▁null ▁&& ▁request . getParameter (" formIsFilled "). equals (" true "); ▁if ▁( formIsFilled ) ▁{ ▁// This ▁page ▁is ▁not ▁ actually ▁a ▁" page ", ▁it ▁just ▁add s ▁a ▁user ▁and ▁forward s . ▁lbean . set Status ( request . getParameter (" Status ")); ▁lbean . set Results ( request . getParameter (" Results ")); ▁lbean . set Commentary ( request . getParameter (" Commentary ")); ▁try { ▁action 2 . update Procedure ( lbean );%> ▁< span > Information ▁Updated ▁Successfully </ span > ▁<% ▁} ▁catch ( FormValidat ionException ▁e ){ ▁e . print HTML ( out ); ▁} ▁} ▁%> ▁< table ▁class =" f Table "> ▁< tr > ▁< th ▁col span ="11"> Lab ▁Procedures </ th > ▁</ tr > ▁< tr > ▁< th > Patient </ th > ▁< th > Lab ▁Code </ th > ▁< th > Rights </ th > ▁< th > Status </ th > ▁< th > Commentary </ th > ▁< th > Results </ th > ▁< th > OfficeVisitID </ th > ▁< th > Updated ▁Date </ th > ▁</ tr > ▁<% LabProcedureBean ▁bean ▁= ▁prodDAO . get LabProcedureDAO (). getLabProcedure ( requestID ); ▁PatientBean ▁patient ▁= ▁new ▁PatientDAO ( prodDAO ) . getPatient ( bean . get Pid ()); %> ▁< tr > ▁< td ▁><%= patient . getF ullName ()%></ td > ▁< td ▁><%= bean . getLo inc ()%></ td > ▁< td ▁><%= bean . get Rights ()%></ td > ▁< td ▁><%= bean . get Status ()%></ td > ▁< td ▁><%= bean . get Commentary ()%></ td > ▁< td ▁><%= bean . get Results ()%></ td > ▁< td ▁><%= bean . getOv ID ()%></ td > ▁< td ▁><%= bean . get Timestamp ()%></ td > ▁</ tr > ▁</ table > ▁< form ▁action =" UpdateLabProc . jsp ? ID =<%= lpid %>" & message =" Updated ▁Laboratory ▁Procedure " ▁method =" post ">< input ▁type =" hidden " ▁name =" formIsFilled " ▁value =" true "> ▁< br ▁/> ▁< br ▁/> ▁< table ▁align =" center "> ▁< tr >< td ><%= headerMessage ▁%></ td ></ tr > ▁</ table > ▁< br ▁/> ▁< table > ▁< tr > ▁< td > Status :</ td > ▁< td > ▁< select ▁name =" Status "> ▁< option ▁value =" NOT ▁ YET ▁RECEIVED "><%= lbean . Not _ Received ▁%></ option > ▁< option ▁value =" PENDING "><%= lbean . Pending ▁%></ option > ▁< option ▁value =" COMPLETED "><%= lbean . Completed ▁%></ option > ▁</ select > ▁</ td > ▁</ tr > ▁< tr > ▁< td > Commentary :</ td > ▁< td >< textarea ▁name =" Commentary "></ textarea > ▁</ tr > ▁< tr > ▁< td > Results :</ td > ▁< td >< textarea ▁name =" Results "></ textarea ></ td > ▁</ tr > ▁< tr > ▁< td ▁col span =2 ▁align = center >< input ▁type =" submit " ▁ style =" font - size : ▁16 pt ; ▁ font - weight : ▁bold ; " ▁value =" Update "></ td > ▁</ tr > ▁</ table > ▁</ form > ▁< br ▁/> ▁< a ▁href =" . . / hcp / LabProcHCP . jsp "> Go ▁to ▁View ▁Laboratory ▁Procedures </ a > ▁<%@ include ▁file ="/ f ooter . jsp " ▁%>